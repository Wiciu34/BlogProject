@model BlogProject.Models.Article

@{
    ViewData["Title"] = "View";
}

<h1>Are you sure you want to delete this article?</h1>

<h2>@Model.Title</h2>

<form method="post" asp-action="DeleteConfirmed" asp-route-articleId="@Model.Id">
    <button type="submit" class="btn btn-danger d-inline-block">Delete Article</button>
</form>

@section Scripts {
    <script>
        window.addEventListener("beforeunload", function (event) {
            fetch('@Url.Action("ReleaseLock", "Article", new { id = Model.Id })', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            }).then(response => {

            });
        });
    </script>
}